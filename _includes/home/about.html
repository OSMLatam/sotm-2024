<section id="about" class="container content-section text-center">
  {% assign language = page.lang %}

  {% case language %}
  {% when "pt" %}
  <h2>Sobre este evento</h2>
  <p>
    O State of the Map Latam 2024, sediado em Belém do Pará, é a sexta conferência latino-americana do OpenStreetMap. O
    evento, organizado pela comunidade, visa reunir mapeadores, desenvolvedores, pesquisadores e entusiastas do
    OpenStreetMap para compartilhar experiências, aprender e colaborar com o projeto.
  </p>


  {% when "en" %}
  <h2>About this event</h2>
  <p>
    The State of the Map Latam 2024, hosted in Belém do Pará, is the sixth Latin American OpenStreetMap conference. The
    event, organized by the community, aims to bring together mappers, developers, researchers, and OpenStreetMap
    enthusiasts to share experiences, learn, and collaborate on the project.
  </p>

  {% else %}
  <h2>Acerca de este evento</h2>
  <p>
    El State of the Map Latam 2024, con sede en Belém do Pará, es la sexta conferencia latinoamericana de OpenStreetMap.
    El evento, organizado por la comunidad, tiene como objetivo reunir a cartógrafos, desarrolladores, investigadores y
    entusiastas de OpenStreetMap para compartir experiencias, aprender y colaborar en el proyecto.
  </p>

  {% endcase %}


  <div id="map" data-map_center="{{ site.map_config.map_center | jsonify }}"
    data-zoom-level="{{ site.map_config.zoom_level }}"
    data-marker_lat_lng="{{ site.map_config.marker_lat_lng | jsonify }}">

  </div>

</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    var mapElement = document.getElementById('map');
    var coordinates = JSON.parse(mapElement.getAttribute('data-map_center'));
    var markerLatLng = JSON.parse(mapElement.getAttribute('data-marker_lat_lng'));
    var zoomLevel = parseInt(mapElement.getAttribute('data-zoom-level'), 10);

    // Define the HTML content for the popup with better organization
    var popupContent = `
      <div style="color: black;">
        <strong>IFPA - Instituto Federal do Pará</strong><br>
        Avenida Almirante Barroso, nº 1155, Marco<br>
        Belém, PA<br>
        Brazil<br>
        <br>
        <a href="https://www.openstreetmap.org/way/537204680" target="_blank">
          <i class="fa fa-map-marker"></i> OpenStreetMap
        </a><br>
        <a href="https://maps.apple.com/?q=IFPA, Avenida Almirante Barroso, 1155, Marco, Belém, PA, Brazil" target="_blank">
          <i class="fa fa-map-marker"></i> Apple Maps
        </a><br>
        <a href="https://www.google.com/maps/search/?api=1&query=IFPA, Avenida Almirante Barroso, 1155, Marco, Belém, PA, Brazil" target="_blank">
          <i class="fa fa-map-marker"></i> Google Maps
        </a><br>
        <a href="https://waze.com/ul?q=IFPA, Avenida Almirante Barroso, 1155, Marco, Belém, PA, Brazil" target="_blank">
          <i class="fa fa-map-marker"></i> Waze
        </a>
      </div>
    `;

    var map = L.map('map', { scrollWheelZoom: false }).setView(coordinates, zoomLevel);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Create a marker and bind popup with content, and open it by default
    var marker = L.marker(markerLatLng).addTo(map).bindPopup(popupContent).openPopup();
  });
</script>